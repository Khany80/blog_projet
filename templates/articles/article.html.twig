{% extends "base.html.twig" %}
{% block body %}

<div class="container">
	<div class="row">
		<!-- Latest Posts -->
		<main class="post blog-post col-lg-8">
			<div class="container">
				<div class="post-single">
					<div class="post-thumbnail"><img
							src="{{ asset('upload/images/' ~ article.images)| imagine_filter('square') }}"
							alt="{{ article.slug }}" alt="..." class="img-fluid"></div>
					<div class="post-details">

						<h1>{{ article.title }}</h1>
						<div class="post-meta d-flex justify-content-between">
							<div class="category">
								{% for categorie in article.categories %}
								<a href="{{ path('article-by-category', {'id' : categorie.id}) }}">{{categorie.name
									}}</a>
								{% endfor %}
							</div>
						</div>
						{# <div class="post-footer d-flex align-items-center flex-column flex-sm-row"> <a href="#"
								class="author d-flex align-items-center flex-wrap">
								<div class="avatar"><img src="" alt="..." class="img-fluid"></div>
								<div class="title"> <span>John Doe</span> </div>
							</a>
							<div class="d-flex align-items-center flex-wrap">
								<div class="date"> <i class="icon-clock"></i> 2 months ago</div>
								<div class="views"> <i class="icon-eye"></i> 500</div>
								<div class="comments meta-last"> <i class="icon-comment"></i>12</div>
							</div>
						</div> #}
						<div class="post-body">
							<p class="lead">{{article.content|raw}}</p>
						</div>
						<div class="post-tags">
							{% for tag in article.tags %}
							<a href="{{ path('article-by-tag', {'id' : tag.id}) }}" class="tag">
								#{{tag.tag }}</a>
							{% endfor %}
							</a>
						</div>
						<div class="post-comments">
							<header>
								<h3 class="h6">Post Comments<span class="no-of-comments">{{ article.commentaires|length
										}}</span>
								</h3>
							</header>
							<div class="add-comment">
								<header>
									<h3 class="h6">Leave a reply</h3>
								</header>
								<form action="#" class="commenting-form">
									<div class="row">
										<div class="form-group col-md-6">
											<input type="text" name="username" id="username" placeholder="Name"
												class="form-control">
										</div>
										<div class="form-group col-md-6">
											<input type="email" name="username" id="useremail"
												placeholder="Email Address (will not be published)"
												class="form-control">
										</div>
										<div class="form-group col-md-12">
											<textarea name="usercomment" id="usercomment"
												placeholder="Type your comment" class="form-control"></textarea>
										</div>
										<div class="form-group col-md-12">
											<button type="submit" class="btn btn-secondary">Submit Comment</button>
										</div>
									</div>
								</form>
							</div>
							{% for commentaire in article.commentaires %}
							<div class="comment">
								<div class="comment-header d-flex justify-content-between">
									<div class="user d-flex align-items-center">
										{# <div class="image"><img src="img/user.svg" alt="..."
												class="img-fluid rounded-circle"></div> #}
										<div class="title">
											<strong>{{ commentaire.pseudo }}</strong>
											<span class="date">{{ commentaire.createdAt|date("d/m/Y \à H:i:s") }}</span>
										</div>
									</div>
								</div>
								<div class="comment-body">
									<p>{{ commentaire.content }}</p>
								</div>
							</div>
							{% else %}
							<div class="comment-body">
								<p>Il n'y a pas de commentaire</p>
							</div>
							{% endfor %}
						</div>
					</div>
				</div>
			</div>
		</main>
		<aside class="col-lg-4">
			<!-- Widget [Search Bar Widget]-->
			<div class="widget search">
				<header>
					<h3 class="h6">Search the blog</h3>
				</header>
				<form action="#" class="search-form">
					<div class="form-group">
						<input type="search" placeholder="What are you looking for?">
						<button type="submit" class="submit">
							<i class="icon-search"></i>
						</button>
					</div>
				</form>
			</div>
			<!-- Widget [Latest Posts Widget]        -->
			{# <div class="widget latest-posts">
				<header>
					<h3 class="h6">Latest Posts</h3>
				</header>
				<div class="blog-posts">
					<a href="#">
						<div class="item d-flex align-items-center">
							<div class="image"><img src="img/small-thumbnail-1.jpg" alt="..." class="img-fluid"></div>
							<div class="title">
								<strong>Alberto Savoia Can Teach You About</strong>
								<div class="d-flex align-items-center">
									<div class="views">
										<i class="icon-eye"></i>
										500
									</div>
									<div class="comments">
										<i class="icon-comment"></i>12
									</div>
								</div>
							</div>
						</div>
					</a>
					<a href="#">
						<div class="item d-flex align-items-center">
							<div class="image"><img src="img/small-thumbnail-2.jpg" alt="..." class="img-fluid"></div>
							<div class="title">
								<strong>Alberto Savoia Can Teach You About</strong>
								<div class="d-flex align-items-center">
									<div class="views">
										<i class="icon-eye"></i>
										500
									</div>
									<div class="comments">
										<i class="icon-comment"></i>12
									</div>
								</div>
							</div>
						</div>
					</a>
					<a href="#">
						<div class="item d-flex align-items-center">
							<div class="image"><img src="img/small-thumbnail-3.jpg" alt="..." class="img-fluid"></div>
							<div class="title">
								<strong>Alberto Savoia Can Teach You About</strong>
								<div class="d-flex align-items-center">
									<div class="views">
										<i class="icon-eye"></i>
										500
									</div>
									<div class="comments">
										<i class="icon-comment"></i>12
									</div>
								</div>
							</div>
						</div>
					</a>
				</div>
			</div> #}
			<!-- Widget [Categories Widget]-->
			<div class="widget categories">
				<header>
					<h3 class="h6">Categories</h3>
				</header>
				{% for category in categories %}
				<div class="item d-flex justify-content-between">
					<a href="{{ path('article-by-category', {'id' : category.id}) }}">
						{{ category.name }}</a>
					<span>12</span>
				</div>
				{% endfor %}
			</div>
			<!-- Widget [Tags Cloud Widget]-->
			<div class="widget tags">
				<header>
					<h3 class="h6">Tags</h3>
				</header>
				<ul class="list-inline">
					{% for tag in tags %}
					<li class="list-inline-item">
						<a href="{{ path('article-by-tag', {'id' : tag.id}) }}" class="tag">#{{ tag.tag }}</a>
					</li>
					{% endfor %}
				</ul>
			</div>
		</aside>
	</div>
</div>


{# <h1>{{ article.title }}</h1>
<img src="{{ asset('upload/images/' ~ article.images)| imagine_filter('square') }}" alt="{{ article.slug }}">
<p>
	{{ article.content|raw }}</p>
<p>
	{{ article.createdAt|date('d/m/Y à h\\hi') }}
</p>

<p>Catégories :
</p>
{% for categorie in article.categories %}
{{categorie.name }}
{% endfor %}

<p>Tags:
</p>
{% for tag in article.tags %}
{{tag.tag }}
{% endfor %}

<h2>Commentaires ({{ article.commentaires|length }})</h2>
{% for commentaire in article.commentaires %}
<p>Publié par :
	{{ commentaire.pseudo }}</p>
<p>
	Le
	{{ commentaire.createdAt|date("d/m/Y \à H:i:s") }}</p>
<div>{{ commentaire.content }}</div>
{% else %}
<p>Il n'y a pas de commentaire</p>
{% endfor %}

<h2>Ajout de commentaire</h2>
{# {{ form(commentForm) }} #}

{# {{ form_start(commentForm) }}
{{ form_row(commentForm.email, {'label' :'Email : '}) }}
{{ form_row(commentForm.pseudo, {'label' :'Pseudo :'}) }}
{{ form_row(commentForm.content, {'label' :'Votre message : '}) }}

{{ form_end(commentForm)}} #}
#}{% endblock %}